(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1513:(e,r,t)=>{Promise.resolve().then(t.bind(t,2337))},2337:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var o=t(5155),a=t(2115);class s{getNombre(){return this.nombre}setNombre(e){this.nombre=e}getCreditos(){return this.creditos}setCreditos(e){this.creditos=e}getGestor(){return this.gestor}setGestor(e){this.gestor=e}isHabilitado(e){return!this.gestor||this.gestor.evaluarYPropagar(e)}constructor(e){this.nombre=e,this.creditos=0}}class n extends s{getEstado(){return this.estado}setEstado(e){this.estado=e}avanzarEstado(){switch(this.estado){case"no_aprobado":return this.estado="aprobado";case"aprobado":return this.estado="exonerado";case"exonerado":return this.estado="no_aprobado"}return"no_aprobado"}isAprobado(){return"aprobado"===this.estado||"exonerado"===this.estado}isExonerado(){return"exonerado"===this.estado}esTaller(){return!1}constructor(...e){super(...e),this.estado="no_aprobado"}}class i extends s{getEstado(){return this.estado}setEstado(e){this.estado=e}avanzarEstado(){switch(this.estado){case"no_aprobado":return this.estado="exonerado";case"exonerado":return this.estado="no_aprobado"}return"no_aprobado"}isAprobado(){return this.isExonerado()}toggleExonerado(){this.estado="exonerado"===this.estado?"no_aprobado":"exonerado"}isExonerado(){return"exonerado"===this.estado}esTaller(){return!0}constructor(...e){super(...e),this.estado="no_aprobado"}}class d{getMateria(){return this.materia}agregarCondicion(e){this.condiciones.push(e)}getCondiciones(){return this.condiciones}registrarSuscriptor(e){this.suscriptores.add(e)}evaluarYPropagar(e){let r=this.condiciones.every(r=>r.evaluar(e)),t=this.habilitado!==r;return this.habilitado=r,t&&this.suscriptores.forEach(r=>{r.evaluarYPropagar(e)}),this.habilitado}avanzarEstado(){if("no_aprobado"===this.materia.getEstado())if(!this.materia.esTaller())return"aprobado";else return"exonerado";return"aprobado"===this.materia.getEstado()?"exonerado":"exonerado"===this.materia.getEstado()?"no_aprobado":this.materia.getEstado()}constructor(e){this.mat=e,this.condiciones=[],this.suscriptores=new Set,this.habilitado=null,this.materia=e,e.setGestor(this)}}class g{evaluar(e){return e.estaAprobada(this.materia.getNombre())}constructor(e){this.materia=e}}class c{creditosEnPlan(e){var r;return null!=(r=this.creditosPorPlan[e])?r:0}creditosEnGrupo(e){var r;return null!=(r=this.creditosPorGrupo[e])?r:0}tieneMateria(e){return this.materiasAprobadas.has(e)}estaAprobada(e){let r=this.materiasAprobadas.get(e);return"aprobado"===r||"exonerado"===r}estaExonerada(e){return"exonerado"===this.materiasAprobadas.get(e)}estadoDe(e){var r;return null!=(r=this.materiasAprobadas.get(e))?r:"no_aprobado"}aprobarMateria(e){this.materiasAprobadas.set(e,"aprobado")}exonerarMateria(e){this.materiasAprobadas.set(e,"exonerado")}desaprobarMateria(e){this.materiasAprobadas.delete(e)}constructor(e,r,t){this.materiasAprobadas=e,this.creditosPorPlan=r,this.creditosPorGrupo=t}}let l=e=>{let{curso:r,onClick:t,padron:a,habilitado:s,style:n}=e,i=r.getEstado();return(0,o.jsx)("div",{className:"cursor-pointer p-4 m-2 select-none rounded shadow ".concat((()=>{if(!r.isHabilitado(a))return"bg-gray-200";switch(i){case"no_aprobado":return"bg-red-400";case"aprobado":return"bg-yellow-300";case"exonerado":return"bg-green-400";default:return"bg-white"}})()),onClick:s?t:void 0,style:n,children:(0,o.jsx)("h6",{className:"text-xs font-bold",children:"".concat(r.getNombre()," (").concat(r.getCreditos()," cr.)")})})};class u{evaluar(e){return e.estaExonerada(this.materia.getNombre())}getMateriasDependientes(){return[this.materia]}constructor(e){this.materia=e}}class b{evaluar(e){return this.condiciones.every(r=>r.evaluar(e))}constructor(e){this.condiciones=e}}class m{evaluar(e){return this.condiciones.some(r=>r.evaluar(e))}constructor(e){this.condiciones=e}}class h{static registrarGestor(e,r){this.gestoresPorCurso.set(e,r)}static obtenerGestorParaCurso(e){return console.log("Gestores registrados:",Array.from(this.gestoresPorCurso.keys())),console.log("Buscando gestor para curso:",e.getNombre()),this.gestoresPorCurso.get(e.getNombre())}}h.gestoresPorCurso=new Map;class p{evaluar(e){let r=0;for(let t of this.materias)"exonerado"===e.materiasAprobadas.get(t.getNombre())&&(r+=t.getCreditos());return r>=this.creditosMinimos}constructor(e,r){this.creditosMinimos=e,this.materias=r}}let w=new Map,C=[],f=[],x=()=>{let[e,r]=(0,a.useState)("par"),[t,s]=(0,a.useState)([]),[x,N]=(0,a.useState)(function(){let e=new n("C\xe1lculo Diferencial e Integral en una Variable"),r=new d(e);w.set(e.getNombre(),r),e.setCreditos(13);let t=new g(e),o=new u(e),a=new n("Geometr\xeda y \xc1lgebra Lineal 1"),s=new d(a);w.set(a.getNombre(),s),a.setCreditos(9);let c=new g(a),l=new u(a),h=new n("Programaci\xf3n 1"),x=new d(h);w.set(h.getNombre(),x),h.setCreditos(10);let N=new g(h),v=new u(h),E=new n("Matem\xe1tica Discreta 1"),P=new d(E);w.set(E.getNombre(),P),E.setCreditos(9);let y=new g(E),j=new u(E),_=new n("C\xe1lculo Diferencial e Integral en Varias Variables"),A=new d(_);w.set(_.getNombre(),A),_.setCreditos(13),new g(_);let M=new u(_);A.agregarCondicion(t);let G=new n("Geometr\xeda y \xc1lgebra Lineal 2"),S=new d(G);w.set(G.getNombre(),S),G.setCreditos(9),new g(G);let k=new u(G);S.agregarCondicion(c);let I=new n("Programaci\xf3n 2"),T=new d(I);w.set(I.getNombre(),T),I.setCreditos(12);let O=new g(I),D=new u(I);T.agregarCondicion(N);let W=new n("Matem\xe1tica Discreta 2"),H=new d(W);w.set(W.getNombre(),H),W.setCreditos(9),H.agregarCondicion(y),H.agregarCondicion(c),new g(W);let L=new u(W),B=new n("L\xf3gica"),z=new d(B);w.set(B.getNombre(),z),B.setCreditos(12),z.agregarCondicion(y);let Y=new g(B),F=new u(B),R=new n("Probabilidad y Estad\xedstica"),V=new d(R);w.set(R.getNombre(),V),R.setCreditos(10),V.agregarCondicion(o),V.agregarCondicion(l),new g(R);let q=new u(R),J=new n("Programaci\xf3n 3"),K=new d(J);w.set(J.getNombre(),K),J.setCreditos(15);let Q=new g(J),U=new u(J);K.agregarCondicion(O),K.agregarCondicion(v),K.agregarCondicion(j);let X=new n("Arquitectura de Computadoras"),Z=new d(X);w.set(X.getNombre(),Z),X.setCreditos(10);let $=new g(X);Z.agregarCondicion(y),Z.agregarCondicion(Y),Z.agregarCondicion(O),Z.agregarCondicion(o),Z.agregarCondicion(v);let ee=new n("M\xe9todos Num\xe9ricos"),er=new d(ee);w.set(ee.getNombre(),er),ee.setCreditos(8),er.agregarCondicion(M),er.agregarCondicion(o),er.agregarCondicion(l),er.agregarCondicion(v),er.agregarCondicion(k);let et=new n("Programaci\xf3n 4"),eo=new d(et);w.set(et.getNombre(),eo),et.setCreditos(15);let ea=new g(et),es=new u(et);eo.agregarCondicion(D),eo.agregarCondicion(o),eo.agregarCondicion(l),eo.agregarCondicion(j);let en=new n("Introducci\xf3n a la Investigaci\xf3n de Operaciones"),ei=new d(en);w.set(en.getNombre(),ei),en.setCreditos(10),ei.agregarCondicion(q),ei.agregarCondicion(k),ei.agregarCondicion(M),ei.agregarCondicion(o),ei.agregarCondicion(l);let ed=new n("Sistemas Operativos"),eg=new d(ed);w.set(ed.getNombre(),eg),ed.setCreditos(12),eg.agregarCondicion($),eg.agregarCondicion(D),eg.agregarCondicion(l),eg.agregarCondicion(j),eg.agregarCondicion(o);let ec=new g(ed),el=new n("Teor\xeda de Lenguajes"),eu=new d(el);w.set(el.getNombre(),eu),el.setCreditos(12),eu.agregarCondicion(F),eu.agregarCondicion(Q),eu.agregarCondicion(j),eu.agregarCondicion(l),eu.agregarCondicion(o),new g(el);let eb=new u(el),em=new n("Administraci\xf3n General para Ingenieros"),eh=new d(em);w.set(em.getNombre(),eh),em.setCreditos(5);let ep=new u(em),ew=new n("Fundamentos de Bases de Datos"),eC=new d(ew);w.set(ew.getNombre(),eC),ew.setCreditos(15);let ef=new g(ew);new u(ew),eC.agregarCondicion(F),eC.agregarCondicion(L),eC.agregarCondicion(U);let ex=new i("Taller de Programaci\xf3n"),eN=new d(ex);w.set(ex.getNombre(),eN),ex.setCreditos(15);let ev=new m([new b([U,ea]),es]);eN.agregarCondicion(ev);let eE=new u(ex),eP=new n("Redes de Computadoras"),ey=new d(eP);w.set(eP.getNombre(),ey),eP.setCreditos(12),ey.agregarCondicion(ec);let ej=new n("Pr\xe1cticas de Administraci\xf3n para Ingenieros"),e_=new d(ej);w.set(ej.getNombre(),e_),ej.setCreditos(5),e_.agregarCondicion(ep);let eA=new i("Taller Introductorio de Ingenier\xeda de Software"),eM=new d(eA);w.set(eA.getNombre(),eM),eA.setCreditos(10),eM.agregarCondicion(ea),eM.agregarCondicion(ef),eM.agregarCondicion(eE);let eG=new u(eA),eS=new n("Programaci\xf3n L\xf3gica"),ek=new d(eS);w.set(eS.getNombre(),ek),eS.setCreditos(10),ek.agregarCondicion(eb),ek.agregarCondicion(F),ek.agregarCondicion(U),ek.agregarCondicion(L);let eI=new n("Programaci\xf3n Funcional"),eT=new d(eI);w.set(eI.getNombre(),eT),eI.setCreditos(10),eT.agregarCondicion(eb),eT.agregarCondicion(D),eT.agregarCondicion(j),eT.agregarCondicion(F);let eO=new n("F\xedsica 1"),eD=new d(eO);w.set(eO.getNombre(),eD),eO.setCreditos(10),new g(eO),new u(eO);let eW=new n("Proyecto de Ingenier\xeda de Software"),eH=new d(eW);w.set(eW.getNombre(),eH),eW.setCreditos(15),eH.agregarCondicion(eG);let eL=new n("Econom\xeda"),eB=new d(eL);w.set(eL.getNombre(),eB),eL.setCreditos(7),new g(eL),new u(eL);let ez=new n("Pol\xedticas Cient\xedficas en Informaci\xf3n y Computaci\xf3n"),eY=new d(ez);w.set(ez.getNombre(),eY),ez.setCreditos(3),new g(ez),new u(ez);let eF=new i("Tutor\xeda Entre Pares"),eR=new d(eF);w.set(eF.getNombre(),eR),eF.setCreditos(8);let eV=[a,E,h],eq=[e,G,W,I],eJ=[_,B,et],eK=[R,J,X,ee],eQ=[en,ed,el,em],eU=[ew,ex,eP,ej],eX=[eA,eS,eI,eO],eZ=[eW,eL,ez],e$=[eF];f=[eV,eq,eJ,eQ,eX].flat(),(C=[eV,eq,eK,eU,eZ].flat()).push(eO,eF),f.push(R);let e0=new p(140,[eV,eq,eJ,eK,eQ,eU,eX,eZ,e$].flat());return eh.agregarCondicion(e0),[eV,eq,eJ,eK,eQ,eU,eX,eZ,e$]}()),v=new Map,[E,P]=(0,a.useState)(new c(v,{},{}));return(0,o.jsxs)("main",{style:{padding:24},children:[(0,o.jsxs)("div",{style:{marginBottom:32,fontWeight:"bold",fontSize:18},children:["Cr\xe9ditos totales exonerados: ",x.flat().reduce((e,r)=>e+("exonerado"===r.getEstado()?r.getCreditos():0),0)]}),x.map((e,r)=>(0,o.jsxs)("section",{style:{marginBottom:24},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,o.jsx)("h3",{style:{margin:"8px 0",fontWeight:"bold"},children:r<8?"Semestre ".concat(r+1):"Optativas"}),(0,o.jsxs)("span",{style:{fontWeight:"bold",color:"#555"},children:["Cr\xe9ditos exonerados: ",e.reduce((e,r)=>e+("exonerado"===r.getEstado()?r.getCreditos():0),0)]})]}),(0,o.jsx)("div",{style:{display:"flex",gap:12,flexWrap:"wrap",justifyContent:"center",background:r%2==0?"#f7f7f7":"#fff",padding:12,borderRadius:8},children:e.map(e=>(0,o.jsx)(l,{habilitado:e.isHabilitado(E),curso:e,padron:E,onClick:()=>(e=>{console.log("Click en materia:",e.getNombre());let r=h.obtenerGestorParaCurso(e);for(let[e,r]of w.entries())h.registrarGestor(e,r);if(console.log("Gestor obtenido:",r),!r)return;let t=r.evaluarYPropagar(E);if(console.log("Habilitado?",t),!t)return;let o=function(e){if(e.esTaller())if("no_aprobado"===e.getEstado())return"exonerado";else return"no_aprobado";switch(e.getEstado()){case"no_aprobado":return"aprobado";case"aprobado":return"exonerado";default:return"no_aprobado"}}(e),a=Object.create(Object.getPrototypeOf(e));Object.assign(a,e),a.setEstado(o);let s=e.getNombre();"aprobado"===o?E.aprobarMateria(s):"exonerado"===o?E.exonerarMateria(s):E.materiasAprobadas.delete(s);let n=new c(new Map(E.materiasAprobadas),{...E.creditosPorPlan},{...E.creditosPorGrupo}),i=x.map(r=>r.map(r=>r.getNombre()===e.getNombre()?a:r));!function(e,r){let t=function(e){let r=new Set,t=[];for(let o of e)!function e(o){var a;if(r.has(o))return;r.add(o);let s=o.getGestor();if(s){for(let r of((null==(a=s.getCondiciones)?void 0:a.call(s))||[]).flatMap(e=>{var r;return(null==(r=e.getMateriasDependientes)?void 0:r.call(e))||[]}))e(r);t.push(o)}}(o);return t}(r.flat());for(let e of t)e.setEstado("no_aprobado");for(let r of t)if(r.isHabilitado(e)){let t=e.materiasAprobadas.get(r.getNombre());t&&r.setEstado(t)}else e.materiasAprobadas.delete(r.getNombre())}(n,i),P(n),N(i)})(e),style:{minWidth:160,maxWidth:180,flex:"1 0 160px"}},e.getNombre()))})]},r)),(0,o.jsxs)("div",{style:{marginTop:40,textAlign:"center"},children:[(0,o.jsxs)("div",{style:{marginBottom:12},children:[(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"radio",checked:"par"===e,onChange:()=>r("par")})," Semestre Par"]}),(0,o.jsxs)("label",{style:{marginLeft:16},children:[(0,o.jsx)("input",{type:"radio",checked:"impar"===e,onChange:()=>r("impar")})," Semestre Impar"]})]}),(0,o.jsx)("button",{className:"bg-blue-500 text-white",style:{padding:"8px 20px",fontWeight:"bold",borderRadius:6,cursor:"pointer"},onClick:function(){s(("par"===e?C:f).flat().filter(e=>e.isHabilitado(E)&&"no_aprobado"===e.getEstado()))},children:"Generar Semestre"}),t.length>0&&(0,o.jsxs)("div",{style:{marginTop:24},children:[(0,o.jsxs)("h4",{className:"font-bold",children:["Materias habilitadas y no aprobadas (",e,"):"]}),(0,o.jsx)("ul",{children:t.map(e=>(0,o.jsx)("li",{className:"my-2",children:e.getNombre()},e.getNombre()))})]})]})]})}}},e=>{e.O(0,[441,964,358],()=>e(e.s=1513)),_N_E=e.O()}]);